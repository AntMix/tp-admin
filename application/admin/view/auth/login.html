<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="author" content="Kodinger">
    <title>My Login Page &mdash; Bootstrap 4 Login Page Snippet</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <style>
        html,
        body {
            height: 100%;
        }

        body.my-login-page {
            background-color: #f7f9fb;
            font-size: 14px;
        }

        .my-login-page .brand {
            width: 90px;
            height: 90px;
            overflow: hidden;
            /* border-radius: 50%; */
            margin: 0 auto;
            margin: 40px auto;
            /* box-shadow: 0 0 40px rgba(0, 0, 0, .05); */
        }

        .my-login-page .brand img {
            width: 100%;
        }

        .my-login-page .card-wrapper {
            width: 400px;
        }

        .my-login-page .card {
            border-color: transparent;
            box-shadow: 0 0 40px rgba(0, 0, 0, .05);
        }

        .my-login-page .card.fat {
            padding: 10px;
        }

        .my-login-page .card .card-title {
            margin-bottom: 30px;
        }

        .my-login-page .form-control {
            border-width: 2.3px;
        }

        .my-login-page .form-group label {
            width: 100%;
        }

        .my-login-page .btn.btn-block {
            padding: 12px 10px;
        }

        .my-login-page .margin-top20 {
            margin-top: 20px;
        }

        .my-login-page .no-margin {
            margin: 0;
        }

        .my-login-page .footer {
            margin: 40px 0;
            color: #888;
            text-align: center;
        }
    </style>
</head>

<body class="my-login-page">
    <section class="h-100">
        <div class="container h-100">
            <div class="row justify-content-md-center h-100">
                <div class="card-wrapper">
                    <div class="brand">
                        <!-- <img src="img/logo.jpg"> -->
                    </div>
                    <div class="card fat">
                        <div class="card-body">
                            <h4 class="card-title">Login</h4>
                            <div>
                                <div class="form-group">
                                    <label for="email">Username</label>

                                    <input id="name" type="email" class="form-control" name="name" value="" required
                                        autofocus>
                                </div>

                                <div class="form-group">
                                    <label for="password">Password
                                        <!-- <a href="forgot.html" class="float-right">
                                            Forgot Password?
                                        </a> -->
                                    </label>
                                    <input id="password" type="password" class="form-control" name="password" required
                                        data-eye>
                                </div>

                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" name="remember"> Remember Me
                                    </label>
                                </div>

                                <div class="form-group no-margin">
                                    <button id="submit" class="btn btn-primary btn-block">
                                        Login
                                    </button>
                                </div>
                                <!-- <div class="margin-top20 text-center">
                                    Don't have an account? <a href="register.html">Create One</a>
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <!-- Copyright &copy; Your Company 2020 -->
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
<script>
    document.getElementById('submit').addEventListener('click', () => {
        let name = document.getElementById('name').value
        let password = document.getElementById('password').value
        $.post('./doLogin', {name : name, password : password}, (res) => {
            if (res.code !== 0) {
                alert(res.msg)
                return
            }
            localStorage.setItem('adminUser', JSON.stringify(res.data.user))
            window.location.href = res.data.link
        }, 'json');
    })
</script>

</html>